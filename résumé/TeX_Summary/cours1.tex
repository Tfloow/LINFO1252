\href{../README.md}{\textless--}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\textbf{DISCLAIMER:} toutes les illustrations proviennent du cours
dispens√© par E. Riviere et ne sont en aucun cas ma propri√©t√©.

La synth√®se est incompl√®te, a des erreurs ou autres choses ? Faites une
Pull Request sur le d√©p√¥t
\href{https://github.com/Tfloow/LINFO1252}{Github}.

Si la synth√®se vous a aid√©, n'h√©sitez pas √† rajouter une √©toile au
d√©p√¥t, √ßa fait toujours plaisir ü´∂.

\section{Cours 1}\label{cours-1}

\subsection{Fondamentaux}\label{fondamentaux}

On a des composants: - RAM, CPU, IO devices, \ldots{}

Le processeur ex√©cute des \emph{instructions}.

\begin{itemize}
\tightlist
\item
  Lire / √©crire en m√©moire vers / depuis des registres
\item
  Op√©rations sur ces registres
\end{itemize}

Il y a 2 grandes familles \emph{X86\_64} et \emph{ARM A64} avec des jeux
d'instructions diff√©rents.

\subsubsection{Architecture de von
Neumann}\label{architecture-de-von-neumann}

\begin{figure}
\centering
\includegraphics{image-5.png}
\caption{alt}
\end{figure}

\subsection{Repr√©sentation des
donn√©es}\label{repruxe9sentation-des-donnuxe9es}

On a typiquement:

\begin{longtable}[]{@{}cc@{}}
\toprule\noalign{}
taille & nome \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
4 bits & nibble \\
8 bits & octet \\
32 bits & mot \\
64 bits & long mot \\
\end{longtable}

\subsection{Fonctionnement d'un syst√®me
informatique}\label{fonctionnement-dun-systuxe8me-informatique}

Les op√©rations d'entr√©e/sortie se d√©roulent de mani√®re
\emph{concurrente}. Chacun a un contr√¥leur qui a une m√©moire sp√©cifique.
Le processeur doit transporter les infos de la m√©moire classique √† la
zone des contr√¥leurs.

Un processeur n'est pas de base parall√©lis√©. √Ä chaque frappe du clavier,
une \textbf{interruption} est lanc√©e pour intercept√© ce stimulis.

\subsubsection{Interruption}\label{interruption}

Le processeur va s'arr√™t√© dans son ex√©cution et va \emph{transf√©rer} le
contr√¥le du processeur √† une routine de traitement.

La routine de traitement va d√©terminer la source de l'interruption

Il va positionner le compteur de programme √† la \emph{premi√®re}
ex√©cution du segment de code associ√© √† cette \emph{source}.

√Ä la fin du traitement, on restaure l'√©tat du processeur et on reprend
le processus interrompu en restaurant le compteur de programme

\subsection{Op√©rations
d'entr√©e/sorite}\label{opuxe9rations-dentruxe9esorite}

\begin{figure}
\centering
\includegraphics{image.png}
\caption{Alt text}
\end{figure}

\subsection{Acc√®s direct √† la
m√©moire}\label{accuxe8s-direct-uxe0-la-muxe9moire}

Pour chaque touche de clavier, on doit interrompre pour que le
processeur utilise ces donn√©es.

Pour √©viter les interruptions qui vont √† l'infini, on utilise du
\textbf{DMA} qui est \emph{l'acc√®s direct √† la m√©moire}. Cela permet un
transfert direct entre le contr√¥leur de p√©riph√©rique et la m√©moire
principale.

\begin{figure}
\centering
\includegraphics{image-1.png}
\caption{Alt text}
\end{figure}

\subsection{Le r√¥le du syst√®me
d'exploitation}\label{le-ruxf4le-du-systuxe8me-dexploitation}

Le syst√®me d'exploitation se met entre l'utilisateur et le mat√©riel. Il
a 3 r√¥les:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Rendre plus simple le d√©veloppement de programmes
\item
  Utilisation plus efficaces des ressources
\item
  Assurer l'int√©grit√© des donn√©es et des programmes entre eux.
\end{enumerate}

\subsection{Virtualisation}\label{virtualisation}

Le syst√®me d'exploitation assure cela en \textbf{virtualisant} les
ressources mat√©rielles. On va donc utiliser des API,\ldots{}

\subsubsection{Exemple}\label{exemple}

\begin{itemize}
\tightlist
\item
  Processus
\item
  Le programmeur a l'impression d'avoir tout le processeur
\item
  Processus coexiste et s'entrem√™le
\item
  Partage du temps dt des ressources
\item
  Virtualisation de la m√©moire

  \begin{itemize}
  \tightlist
  \item
    Plusieurs processus en m√©moire.
  \item
    On emp√™che que les autres processus lisent la m√©moire des autres
  \item
    Le SE g√®re la correspondance entre les adresses de la m√©moire
    \emph{virtuelle} et les addresses physiques
  \end{itemize}
\end{itemize}

\subsection{Compromis
abstraction/co√ªt}\label{compromis-abstractioncouxfbt}

Cela facilite √©norm√©ment la vie du programmeur.

\textbf{Mais} on doit √† chaque fois recalculer et cela co√ªte cher en
calcul.

\textbf{Cependant} on a pu r√©duire ce co√ªt de calcul via l'ajout de
fonctionnalit√©s aux processeurs.

\subsection{S√©paration entre m√©canisme et
politique}\label{suxe9paration-entre-muxe9canisme-et-politique}

Via la virtualisation par exemple:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  M√©canisme de partage de temps:

  \begin{itemize}
  \tightlist
  \item
    Changement de contexte: sauvegarde l'√©tat du processeur et restaure
  \end{itemize}
\item
  Politique arbitre entre les processeurs pouvant s'ex√©cuter et les
  processeurs disponibles:

  \begin{itemize}
  \tightlist
  \item
    Politique d'ordonnancement (\emph{scheduling})
  \end{itemize}
\end{enumerate}

On peut donc changer les \emph{politiques d'ordonnancement} diff√©rentes
selon les besoins mais avec le m√™me m√©canisme.

\subsection{Modes d'ex√©cution}\label{modes-dexuxe9cution}

\begin{itemize}
\tightlist
\item
  \textbf{Utilisateur}: programme utilisant les abstractions fournies
  par le SE.
\item
  \textbf{Prot√©g√©}: utilis√© par le noyau du SE, toutes les instructions
  sont autoris√©es
\end{itemize}

L'utilisation de fonctionnalit√©s du SE par un processus utilisateur
n√©cessite de passer d'un mode √† l'autre. (\emph{appel syst√®me})

\subsection{Appel syst√®me ==
interruption}\label{appel-systuxe8me-interruption}

\begin{figure}
\centering
\includegraphics{image-2.png}
\caption{Alt text}
\end{figure}

\subsection{En R√©sume}\label{en-ruxe9sume}

Syst√®me d'exploitation \textasciitilde= traitement des interruptions

\begin{itemize}
\tightlist
\item
  Interruptions mat√©rielles (IO)
\item
  Interruptions du processeur (instructions ill√©gales user)
\item
  Interruptions logicielles (appels syst√®mes)
\end{itemize}

\subsection{UNIX}\label{unix}

Est une famille de syst√®me d'exploitation.

Ici, on verra surtout GNU/Linux. - Linux: kernel - GNU: collection
d'utilitaires et de librairies associ√©s.

\begin{figure}
\centering
\includegraphics{image-3.png}
\caption{Alt text}
\end{figure}

Il y a la philosophie \emph{KISS}: - \emph{Keep It Simple, Stupid} -
Programme simple, petit, parfaitement adapt√© √† une t√¢che ou fonction
unique - Facilit√© de composition de commandes

\begin{longtable}[]{@{}
  >{\centering\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.1134}}
  >{\centering\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.8866}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\centering
Utilitaire
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
Fonction
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
cat & lire/afficher le contenu d'un fichier. ex :
\texttt{cat\ fichier.txt} \\
echo & afficher une cha√Æne de caract√®re \\
head / tail & affiche le d√©but ou la fin d'un fichier \\
wc & compte le nombre de caract√®res \\
wc & trie un fichier. ex:\texttt{sort\ -n\ -r\ scores.txt} \\
uniq & extrait les lignes uniques ou dupliqu√©es d'un fichier tri√©. ex:
\texttt{uniq\ -d\ students.dat} \\
\end{longtable}

\subsection{La documentation}\label{la-documentation}

Chaque utilitaire poss√®de une manpage.

\texttt{man\ nom\_utilitaire}

On a des sections de manuelles qui diff√©rencies et trie les utilitaires
(librairie standard, appel syst√®me, \ldots)

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Utilitaires disponibles pour tous les utilisateurs
\item
  Appels syst√®mes en C
\item
  Fonctions de la librairie
\item
  Fichiers sp√©ciaux
\item
  Formats de fichiers et conventions pour certains types de fichiers
\item
  Jeux
\item
  Utilitaires de manipulation de fichier textes
\item
  Commandes et proc√©dure de gestion du syst√®me
\end{enumerate}

Donc parfois on doit pr√©ciser \texttt{man\ 1\ printf}.

\subsection{Flux standards}\label{flux-standards}

\begin{figure}
\centering
\includegraphics{image-4.png}
\caption{Alt text}
\end{figure}

On a 1 entr√©es, 1 sorties par d√©faut dans le shell (STDOUT) et une
sortie d'erreur (STDERR)

\begin{longtable}[]{@{}
  >{\centering\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.1139}}
  >{\centering\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.8861}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\centering
commande
\end{minipage} & \begin{minipage}[b]{\linewidth}\centering
action
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
\texttt{\textless{}\ file} & redirige le contenu de \texttt{file} vers
STDIN \\
\texttt{\textgreater{}\ file} & redirige STDOUT vers \texttt{file} \\
\texttt{\textgreater{}\textgreater{}\ file} & redirige STDOUT vers
\texttt{file} et l'ajoute au bout d'un fichier si existe \\
\texttt{2\textless{}\&1} & redirige STDERR vers STDOUT \\
\end{longtable}

On a aussi des Pipes qui redirige le r√©sultat de commande de STDOUT vers
le STDIN d'une autre commande.

\begin{Shaded}
\begin{Highlighting}[]
\ExtensionTok{cmd1} \KeywordTok{|} \ExtensionTok{cmd2}
\end{Highlighting}
\end{Shaded}

\subsection{Script}\label{script}

En ent√™te de script \emph{interpr√©t√©} il faut ajouter l'interpr√©teur
(python, bash):

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#!/bin/bash}
\BuiltInTok{echo} \StringTok{"Hello, world"}
\end{Highlighting}
\end{Shaded}

\subsubsection{Arguments en ligne de
commande}\label{arguments-en-ligne-de-commande}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#!/bin/bash }
\CommentTok{\# $\# nombre d\textquotesingle{}arguments }
\CommentTok{\# $1 $2 $3 ... arguments }
\BuiltInTok{echo} \StringTok{"Vous avez pass√©"} \VariableTok{$\#} \StringTok{"arguments"} 
\BuiltInTok{echo} \StringTok{"Le premier argument est :"} \VariableTok{$1}
\BuiltInTok{echo} \StringTok{"Liste des arguments :"} \VariableTok{$@}
\end{Highlighting}
\end{Shaded}

\subsubsection{Retour}\label{retour}

On peut retourner le r√©sultat de la derni√®re commande via \texttt{\$?}.
Si 0 c'est bon.

On peut envoyer des donn√©es dans \texttt{/dev/null} et c'est un trou
noir.

On peut lire du contenu al√©atoire dans \texttt{/dev/random}.

\subsubsection{\texorpdfstring{Boucles
\texttt{for}}{Boucles for}}\label{boucles-for}

\begin{Shaded}
\begin{Highlighting}[]
\CommentTok{\#!/bin/bash }
\CommentTok{\# exemple\_for.sh }
\VariableTok{students}\OperatorTok{=}\StringTok{"Julie Maxime Hakim"} 
\ControlFlowTok{for}\NormalTok{ s }\KeywordTok{in} \VariableTok{$students}\KeywordTok{;} \ControlFlowTok{do} 
  \VariableTok{l}\OperatorTok{=}\KeywordTok{\textasciigrave{}}\FunctionTok{wc} \AttributeTok{{-}l}\NormalTok{ TP1{-}}\VariableTok{$s}\NormalTok{.txt }\KeywordTok{|} \FunctionTok{cut} \AttributeTok{{-}d}\StringTok{\textquotesingle{} \textquotesingle{}} \AttributeTok{{-}f1}\KeywordTok{\textasciigrave{}} 
  \BuiltInTok{echo} \StringTok{"Bonjour }\VariableTok{$s}\StringTok{, ton compte rendu de TP comporte }\VariableTok{$l}\StringTok{ lignes."}
\ControlFlowTok{done}
\end{Highlighting}
\end{Shaded}

\begin{itemize}
\tightlist
\item
  s prend successivement les valeurs pr√©sentes dans la liste d'entr√©e
  \texttt{\$students}
\end{itemize}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\href{../README.md}{\textless--}
